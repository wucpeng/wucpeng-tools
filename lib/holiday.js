'use strict';

const setHolidays = new Set([
    '2016-1-1',
    '2016-2-9',
    '2016-2-10',
    '2016-2-11',
    '2016-2-12',
    '2016-2-13',
    '2016-4-4',
    '2016-5-2',
    '2016-6-9',
    '2016-6-10',
    '2016-9-15',
    '2016-9-16',
    '2016-10-3',
    '2016-10-4',
    '2016-10-5',
    '2016-10-6',
    '2016-10-7',
    '2017-1-2',
    '2017-4-3',
    '2017-4-4',
    '2017-5-1',
    '2017-5-29',
    '2017-5-30',
    '2017-10-1',
    '2017-10-2',
    '2017-10-3',
    '2017-10-4',
    '2017-10-5',
    '2017-10-6',
    '2017-10-7',
    '2017-10-8',
    '2018-1-1',
    '2018-2-15',
    '2018-2-16',
    '2018-2-19',
    '2018-2-20',
    '2018-2-21',
    '2018-4-5',
    '2018-4-6',
    '2018-4-30',
    '2018-5-1',
    '2018-6-18',
    '2018-9-24',
    '2018-10-1',
    '2018-10-2',
    '2018-10-3',
    '2018-10-4',
    '2018-10-5'
]);

const setWorkWeekends = new Set([
    '2016-2-6',
    '2016-2-14',
    '2016-6-12',
    '2016-9-18',
    '2016-10-8',
    '2016-10-9',
    '2017-4-1',
    '2017-5-27',
    '2017-9-30',
    '2018-2-11',
    '2018-2-24',
    '2018-4-8',
    '2018-4-28',
    '2018-9-29',
    '2018-9-30'
]);

exports.isHolidayDate = (date)=> {
    let sDate = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;
    if (setHolidays.has(sDate)) return true;
    if (setWorkWeekends.has(sDate)) return false;
    let weekday = date.getDay();
    if (weekday == 0 || weekday == 6) return true;
    return false;
};